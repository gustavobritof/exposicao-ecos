<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <title>Museu Virtual WebXR</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        #controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: auto;
            z-index: 100;
        }

        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            max-width: 300px;
            z-index: 100;
        }

        .info-panel {
            position: absolute;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            max-width: 300px;
            pointer-events: auto;
            z-index: 100;
            display: none;
        }

        .info-panel.active {
            display: block;
        }

        .info-panel h3 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }

        .info-panel p {
            margin: 0;
            color: #333;
            line-height: 1.5;
        }

        .info-panel .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .info-panel .close-btn:hover {
            background: #d32f2f;
        }

        .info-panel button {
            margin-top: 10px;
            padding: 8px 16px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            width: 100%;
        }

        .info-panel button:hover {
            background: #45a049;
        }
    </style>
</head>

<body>
    <!-- <div id="info">
        <strong>ðŸš€ Museu Espacial 3D</strong><br>
        Bem-vindo ao museu!
    </div> -->

    <a-scene>
        <!-- Assets -->
        <a-assets>
            <img id="skyTexture" src="./images/sky.jpg" alt="Sky">
            <a-asset-item id="hubbleModel" src="./models/hubble.glb"></a-asset-item>
            <a-asset-item id="jwstModel" src="./models/jwst_james_webb_space_telescope.glb"></a-asset-item>
            <a-asset-item id="saturnVModel" src="./models/saturnVCorrect.glb"></a-asset-item>
            <a-asset-item id="issModel" src="./models/ISS Correctglb.glb"></a-asset-item>
        </a-assets>

        <a-entity id="rig" position="0 0 0">
            <a-camera>
                <a-cursor id="cursor" color="white"></a-cursor>
            </a-camera>
        </a-entity>

        <!-- IluminaÃ§Ã£o -->
        <a-light type="ambient" color="#fff" intensity="0.1"></a-light>
        <a-light type="directional" color="#fff" intensity="1" position="5 10 5"></a-light>

        <!-- ChÃ£o -->
        <a-plane id="ground" rotation="-90 0 0" width="50" height="50" color="#808080" roughness="0.8">
        </a-plane>

        <!-- CÃ©u (skybox) -->
        <a-sky src="#skyTexture" rotation="0 0 0"></a-sky>

        <!-- Parede de trÃ¡s -->
        <a-box position="0 2.5 -10" width="20" height="5" depth="0.2" color="#f5f5dc" roughness="0.7">
        </a-box>

        <!-- Parede lateral esquerda -->
        <a-box position="-10 2.5 0" width="0.2" height="5" depth="20" color="#f5f5dc" roughness="0.7">
        </a-box>

        <!-- Parede lateral direita -->
        <a-box position="10 2.5 0" width="0.2" height="5" depth="20" color="#f5f5dc" roughness="0.7">
        </a-box>

        <!-- Pinturas na parede de trÃ¡s -->
        <a-box position="-8 2 -9.9" width="1.5" height="0.1" depth="2" color="#ff6b6b" roughness="0.3"
            rotation="90 0 0"></a-box>

        <a-box position="-4 2 -9.9" width="1.5" height="0.1" depth="2" color="#4ecdc4" roughness="0.3"
            rotation="90 0 0"></a-box>
        <a-box position="0 2 -9.9" width="1.5" height="0.1" depth="2" color="#ffe66d" roughness="0.3"
            rotation="90 0 0"></a-box>
        <a-box position="4 2 -9.9" width="1.5" height="0.1" depth="2" color="#95e1d3" roughness="0.3"
            rotation="90 0 0"></a-box>
        <a-box position="8 2 -9.9" width="1.5" height="0.1" depth="2" color="#f38181" roughness="0.3"
            rotation="90 0 0"></a-box>

        <!-- Portais de panorama -->
        <!-- <a-cylinder position="-7 0.25 8" radius="1" height="0.5" color="#00ff88" metalness="0.8" roughness="0.2"
            class="portal" data-env="kennedy" data-label="ðŸš€ Kennedy Space Center">
        </a-cylinder>

        <a-cylinder position="0 0.25 8" radius="1" height="0.5" color="#00ff88" metalness="0.8" roughness="0.2"
            class="portal" data-env="iss-lab" data-label="ðŸ›°ï¸ ISS Laboratory">
        </a-cylinder>

        <a-cylinder position="7 0.25 8" radius="1" height="0.5" color="#00ff88" metalness="0.8" roughness="0.2"
            class="portal" data-env="launch-pad" data-label="ðŸ”¥ Launch Pad">
        </a-cylinder> -->


        <!-- Modelo 1: Hubble -->
        <a-entity gltf-model="#hubbleModel" position="-5 1.5 -5" scale="0.0003 0.0003 0.0003" class="interactive"
            data-title="Hubble Space Telescope"
            data-description="O telescÃ³pio espacial Hubble revolucionou nossa visÃ£o do universo, revelando galÃ¡xias distantes e estruturas cÃ³smicas."
            animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear">
        </a-entity>
        <a-cylinder obb-collider position="-5 0.5 -5" radius="0.5" height="1" color="#cccccc"
            roughness="0.7"></a-cylinder>

        <!-- Modelo 2: JWST -->
        <a-entity gltf-model="#jwstModel" position="0 1.5 -5" scale="0.05 0.05 0.05" class="interactive"
            data-title="James Webb Space Telescope"
            data-description="O telescÃ³pio espacial mais avanÃ§ado, observando o universo em infravermelho para detectar as galÃ¡xias mais antigas."
            animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear">
        </a-entity>
        <a-cylinder position="0 0.5 -5" radius="0.5" height="1" color="#cccccc" roughness="0.7"></a-cylinder>

        <!-- Modelo 3: Saturn V -->
        <a-entity gltf-model="#saturnVModel" position="5 1.5 -5" scale="0.3 0.3 0.3" class="interactive"
            data-title="Saturn V Rocket"
            data-description="O foguete mais poderoso jÃ¡ construÃ­do, levou os astronautas Ã  Lua durante o programa Apollo."
            animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear">
        </a-entity>
        <a-cylinder position="5 0.5 -5" radius="0.5" height="1" color="#cccccc" roughness="0.7"></a-cylinder>

        <!-- Modelo 4: ISS -->
        <a-entity gltf-model="#issModel" position="-5 1.5 0" scale="0.1 0.1 0.1" class="interactive"
            data-title="International Space Station"
            data-description="A estaÃ§Ã£o espacial mais importante da histÃ³ria, onde astronautas de vÃ¡rios paÃ­ses trabalham em pesquisa cientÃ­fica."
            animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear">
        </a-entity>
        <a-cylinder position="-5 0.5 0" radius="0.5" height="1" color="#cccccc" roughness="0.7"></a-cylinder>

        <a-cylinder position="5 0.5 0" radius="0.5" height="1" color="#cccccc" roughness="0.7"></a-cylinder>

    </a-scene>

    <div id="infoPanel" class="info-panel">
        <button class="close-btn">Ã—</button>
        <h3 id="panelTitle">TÃ­tulo</h3>
        <p id="panelDescription">DescriÃ§Ã£o</p>
        <button id="detailViewBtn">Ver em 3D</button>
    </div>

    <script>
        //  hotspots e interaÃ§Ãµes
        const interactiveObjects = document.querySelectorAll('.interactive');
        const infoPanel = document.getElementById('infoPanel');
        const closeBtn = document.querySelector('.close-btn');
        const detailViewBtn = document.getElementById('detailViewBtn');
        const camera = document.querySelector('[camera]');
        const cursor = document.getElementById('cursor');

        let currentObject = null;

        interactiveObjects.forEach(obj => {
            obj.addEventListener('click', (e) => {
                showInfoPanel(obj);
            });

            // Hover effect (mudanÃ§a de escala)
            obj.addEventListener('mouseenter', () => {
                obj.setAttribute('scale', `${obj.getAttribute('scale').x * 1.1} ${obj.getAttribute('scale').y * 1.1} ${obj.getAttribute('scale').z * 1.1}`);
                cursor.setAttribute('color', 'green');
            });

            obj.addEventListener('mouseleave', () => {
                obj.setAttribute('scale', `${obj.getAttribute('scale').x / 1.1} ${obj.getAttribute('scale').y / 1.1} ${obj.getAttribute('scale').z / 1.1}`);
                cursor.setAttribute('color', '#FFFFFF');
            });
        });

        // Mostrar painel de informaÃ§Ãµes
        function showInfoPanel(object) {
            currentObject = object;
            const title = object.getAttribute('data-title');
            const description = object.getAttribute('data-description');

            document.getElementById('panelTitle').textContent = title;
            document.getElementById('panelDescription').textContent = description;

            infoPanel.classList.add('active');

            // Posicionar o painel no lado direito da tela
            infoPanel.style.right = '20px';
            infoPanel.style.top = '50%';
            infoPanel.style.transform = 'translateY(-50%)';
        }

        // Fechar painel
        closeBtn.addEventListener('click', () => {
            infoPanel.classList.remove('active');
            currentObject = null;
        });

        // BotÃ£o ver em 3D
        detailViewBtn.addEventListener('click', () => {
            if (currentObject) {
                alert('FunÃ§Ã£o "Ver em 3D" serÃ¡ redirecionada para a sala de detalhes!');
                // Aqui vocÃª pode fazer redirect para a pÃ¡gina de detalhes
                // window.location.href = 'detail-view.html?model=nome-do-modelo';
            }
        });

        console.log('Museu com hotspots carregado com sucesso!');
    </script>
</body>

</html>