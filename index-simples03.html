<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museu Espacial VR</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.6.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.3.2/dist/aframe-orbit-controls.min.js"></script>
    <script src="sceneManager.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            transition: opacity 0.8s ease-in-out;
            opacity: 0;
            /* Começa invisível para o fade-in do load */
            background-color: black;
            /* Fundo preto ajuda na transição */
        }
    </style>
</head>

<body>
    <h1 id="cena-titulo">Cena 2</h1>

    <a-scene id="scene03">
        <a-assets>
            <a-asset-item id="hubble" src="models/hubble.glb"></a-asset-item>
            <img src="images/HotspotIcon.png" alt="">
        </a-assets>

        <a-entity look-controls="enabled:false" orbit-controls="
          target: 0 4 0;
          minDistance: 4; 
          maxDistance: 180;
          rotateSpeed: 0.6;
          initialPosition: -4 6 5;
          rotationSpeed: 0.5;
        "> </a-entity>

        <!-- Iluminação Visualizador -->
        <a-light type="ambient" intensity="0.7" color="#ffffff"></a-light>
        <a-light type="directional" intensity="0.8" position="5 5 5" color="#ffffff"></a-light>
        <a-light type="point" intensity="0.6" position="-5 3 -5" color="#e0f0ff"></a-light>
        <a-light type="point" intensity="0.6" position="5 3 -5" color="#e0f0ff"></a-light>
        <a-light type="point" intensity="0.6" position="0 3 5" color="#e0f0ff"></a-light>

        <!-- Fundo Gradiente (Sky) -->
        <a-sky color="#1a1a2e"></a-sky>
        <!-- Piso Reflexivo -->
        <!-- <a-plane rotation="-90 0.4 0" width="30" height="30" color="#16213e" roughness="0.3" metalness="0.5"
            shadow></a-plane> -->

        <!-- MODELO DINÂMICO (Centro) -->
        <!-- <a-entity id="viewer-model-holder" position="0 1.5 -2">
            <a-light type="ambient" color="#ffffff" intensity="1"></a-light>
        </a-entity> -->

        <a-entity position="0 4 0" gltf-model="#hubble" scale="0.003 0.003 0.003"></a-entity>


        <a-entity grid-linhas="tamanho: 100; divisoes: 40; cor: #5ac8fa; opacidade: 0.2"></a-entity>


    </a-scene>



</body>


<script>
    AFRAME.registerComponent('grid-linhas', {
        schema: {
            tamanho: { type: 'number', default: 50 },
            divisoes: { type: 'number', default: 50 },
            cor: { type: 'color', default: '#4444ff' }
        },
        init: function () {
            // Cria o GridHelper do Three.js (que são apenas linhas)
            this.grid = new THREE.GridHelper(
                this.data.tamanho,
                this.data.divisoes,
                this.data.cor, // Cor da linha central
                this.data.cor  // Cor das outras linhas
            );

            // Garante que o material seja visível de ambos os lados (opcional para linhas, mas bom garantir)
            this.grid.material.side = THREE.DoubleSide;
            this.grid.material.transparent = true;
            this.grid.material.opacity = 0.5; // Ajuste a opacidade conforme desejar

            this.el.setObject3D('mesh', this.grid);
        }
    });
</script>

</html>